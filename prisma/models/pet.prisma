model ClientPet {
  id          String   @id @default(cuid())
  name        String
  dateOfBirth DateTime
  description String?
  activity    Int?

  attendingVeterinarianId String?
  attendingVeterinarian   VeterinarianProfile? @relation(fields: [attendingVeterinarianId], references: [id])

  clientId String
  client   ClientProfile @relation(fields: [clientId], references: [id])

  raceId String
  race   Race   @relation(fields: [raceId], references: [id])

  personalPetVaccine PersonalPetVaccine[]
  metting            Metting[]
  foodPets           FoodPet[]

  @@map("client_pet")
}

model Pet {
  id        String   @id @default(cuid())
  createdAt DateTime @default(now())
  updatedAt DateTime @default(now())
  name      String
  picture   String?

  races   Race[]
  vaccine Vaccine[]

  @@map("pets")
}

model Race {
  id        String   @id @default(cuid())
  createdAt DateTime @default(now())
  updatedAt DateTime @default(now())
  name      String
  picture   String?

  petId     String
  pet       Pet         @relation(fields: [petId], references: [id])
  clientPet ClientPet[]

  @@map("races")
}

model Vaccine {
  id                 String   @id @default(cuid())
  createdAt          DateTime @default(now())
  updatedAt          DateTime @default(now())
  name               String
  description        String?
  recommendedAge     Int
  boosterInterval    Int
  mandatoryCountry   Json?
  recommendedCountry Json?

  petId              String
  pet                Pet                  @relation(fields: [petId], references: [id])
  personalPetVaccine PersonalPetVaccine[]

  @@map("vaccines")
}

model PersonalPetVaccine {
  id        String   @id @default(cuid())
  createdAt DateTime @default(now())
  updatedAt DateTime @default(now())

  clientPetId String
  clientPet   ClientPet @relation(fields: [clientPetId], references: [id])

  vaccineId String
  vaccine   Vaccine @relation(fields: [vaccineId], references: [id])

  mettingId String?
  metting   Metting? @relation(fields: [mettingId], references: [id])

  @@map("personal_pet_vaccine")
}

model Metting {
  id        String   @id @default(cuid())
  createdAt DateTime @default(now())
  updatedAt DateTime @default(now())

  date        DateTime
  duration    Decimal
  description String?
  petWeight   Int?
  petSize     Int?

  clientPetId String
  clientPet   ClientPet @relation(fields: [clientPetId], references: [id])

  veterinarianId     String
  veterinarian       VeterinarianProfile  @relation(fields: [veterinarianId], references: [id])
  personalPetVaccine PersonalPetVaccine[]

  @@map("mettings")
}
